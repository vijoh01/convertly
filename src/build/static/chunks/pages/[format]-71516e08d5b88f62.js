(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[388],{5866:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[format]",function(){return o(5604)}])},5604:function(e,t,o){"use strict";o.r(t);var r=o(5893),l=o(1163),n=o(7294);o(8828);let a=["jpeg","png","bmp","tiff","webp","gif","ico","jp2","avif"];t.default=function(){let e=(0,l.useRouter)(),{format:t}=e.query,o=t?t.split("-to-")[0].toLowerCase():"",s=t?t.split("-to-")[1].toLowerCase():"",c=o=>{let[r,l]=t.split("-to-");if(null!==o.from){console.log("from",o.from);let t="".concat(o.from,"-to-").concat(l);e.replace("/".concat(t))}else if(null!==o.to){console.log(r,"to",o.to);let t="".concat(r,"-to-").concat(o.to);e.replace("/".concat(t))}};(0,n.useEffect)(()=>{p(o),f(s)},[o,s]);let[i,d]=(0,n.useState)(null),[u,p]=(0,n.useState)(o),[m,f]=(0,n.useState)(s),h=async()=>{if(!i)return;let e=new FormData;e.append("file",i),e.append("format",m);try{let t=await fetch("http://localhost:3000/api/convert",{method:"POST",body:e}),o=await t.blob(),r=window.URL.createObjectURL(o),l=document.createElement("a");l.href=r,l.download="converted.".concat(m),document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(r),console.log("Conversion successful!")}catch(e){console.error("Error during conversion:",e)}};return console.log(m),(0,r.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,r.jsx)("div",{className:"max-w-md mx-auto p-6 bg-white rounded-md shadow-md",children:(e=>{if(!e)return!1;let[t,o]=e.split("-to-");return a.includes(t.toLowerCase())&&a.includes(o.toLowerCase())&&t.toLowerCase()!==o.toLowerCase()})(t)&&null!=t?(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-semibold mb-4",children:[o.toUpperCase()," to ",s.toUpperCase()," Converter"]}),(0,r.jsxs)("p",{children:["Convert  image from ",o.toUpperCase()," to ",s.toUpperCase()]}),(0,r.jsxs)("div",{className:"border-dashed border-2 border-gray-300 p-4 mb-4 rounded-md relative",onDrop:e=>{e.preventDefault(),d(e.dataTransfer.files[0])},onDragOver:e=>{e.preventDefault()},children:[(0,r.jsxs)("p",{className:"text-gray-500",children:["Drag & Drop your image here or"," ",(0,r.jsx)("label",{htmlFor:"file-input",className:"cursor-pointer text-blue-500",children:"click to select"})]}),(0,r.jsx)("input",{id:"file-input",type:"file",className:"hidden",onChange:e=>{d(e.target.files[0])}}),i&&(0,r.jsx)("p",{className:"mt-2 text-sm",children:i.name})]}),(0,r.jsx)("p",{className:"",children:"From:"}),(0,r.jsx)("select",{value:u,onChange:e=>{let[o,r]=t.split("-to-");e.target.value!==r&&(p(e.target.value),c({from:e.target.value,to:null}))},className:"w-full border p-2 mb-4 rounded-md",children:a.map((e,t)=>(0,r.jsx)("option",{value:e,children:e.toUpperCase()},t))}),(0,r.jsx)("p",{className:"",children:"To:"}),(0,r.jsx)("select",{value:m,onChange:e=>{let[o,r]=t.split("-to-");e.target.value!==o&&(f(e.target.value),c({from:null,to:e.target.value}))},className:"w-full border p-2 mb-5 rounded-md",children:a.map((e,t)=>(0,r.jsx)("option",{value:e,children:e.toUpperCase()},t))}),(0,r.jsx)("button",{onClick:h,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 focus:outline-none",children:"Convert"})]}):(0,r.jsx)("p",{children:"Invalid format"})})})}},8828:function(){},1163:function(e,t,o){e.exports=o(3719)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5866)}),_N_E=e.O()}]);